# Express API Kit

```
  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
  â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•
  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â•šâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
  â–ˆâ–ˆâ•”â•â•â•   â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•  â•šâ•â•â•â•â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘
  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘
  â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•     â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•

   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â•šâ•â•â–ˆâ–ˆâ•”â•â•â•
  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
  â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
  â•šâ•â•  â•šâ•â•â•šâ•â•     â•šâ•â•    â•šâ•â•  â•šâ•â•â•šâ•â•   â•šâ•â•
```

ğŸš€ **Production-Ready Express API Generator** - A powerful CLI tool that generates enterprise-grade Express.js APIs with advanced features including authentication, file uploads, cron jobs, database pooling, and comprehensive security middlewares.

## ğŸ“¦ Installation

Install globally for easy access:

```bash
npm install -g express-api-kit
```

Or use directly with npx:

```bash
npx express-api-kit
```

## ğŸš€ Quick Start

Generate a new API project:

```bash
npx express-api-kit
```

Follow the interactive prompts:

```
? Enter project name: my-awesome-api
? Select database: MongoDB
```

Then start developing:

```bash
cd my-awesome-api
npm run dev
```

## âœ¨ Advanced Features

### ğŸ” **Authentication & Authorization**

- JWT-based authentication with role-based access control
- Password hashing with bcryptjs
- User validation and middleware protection
- Customizable authentication flows

### ğŸ“ **File Upload System**

- Multer-powered file upload middleware
- Configurable upload destinations and file types
- File size validation and error handling
- Automatic URL generation for uploaded files

### â° **Cron Job Scheduler**

- Node-cron integration for background tasks
- Predefined job templates (daily, hourly, weekly)
- Custom job creation utilities
- Environment-based job control

### ğŸ—„ï¸ **Database Optimization**

- **Connection Pooling** for both SQL and MongoDB
- Advanced connection management
- Retry mechanisms and error handling
- Performance monitoring and statistics

### ğŸ›¡ï¸ **Security & Performance**

- Helmet.js for security headers
- Rate limiting with express-rate-limit
- Request compression (gzip)
- Input validation with Joi
- CORS configuration

### ğŸ“§ **Communication & Logging**

- Nodemailer email service integration
- Winston-based structured logging
- Request/response logging with Morgan
- Custom response handlers

### ğŸ”„ **CI/CD Pipeline**

- Automated GitHub Actions workflows
- Multi-version Node.js testing
- Code quality checks (Linting & Formatting)
- Code coverage reporting

## ğŸ›  Interactive Setup

The CLI will prompt you for:

- **Project Name** _(default: express-api-kit)_
- **Database Selection** _(MongoDB, MySQL, PostgreSQL)_

## ğŸ“Œ Project Structure

Generated projects include a comprehensive, production-ready structure:

```
project-name/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ database.js          # Database connection with pooling
â”œâ”€â”€ controllers/
â”‚   â””â”€â”€ auth.controller.js   # Authentication logic
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ readme.md           # API documentation
â”‚   â”œâ”€â”€ API_VERSIONING.md   # API versioning guide
â”‚   â””â”€â”€ DATABASE.md         # Database migrations guide (SQL only)
â”œâ”€â”€ jobs/
â”‚   â”œâ”€â”€ exampleCronJob.js   # Cron job templates
â”‚   â””â”€â”€ jobScheduler.js     # Job management system
â”œâ”€â”€ middlewares/
â”‚   â”œâ”€â”€ auth.middleware.js  # JWT & role-based authentication
â”‚   â””â”€â”€ upload.middleware.js # File upload handling
â”œâ”€â”€ migrations/             # Database migrations (SQL only)
â”œâ”€â”€ models/
â”‚   â””â”€â”€ User.js            # Database models (Sequelize/Mongoose)
â”œâ”€â”€ routes/
â”‚   â””â”€â”€ v1/                # Version 1 API routes
â”‚       â”œâ”€â”€ index.js       # V1 routes entry point
â”‚       â””â”€â”€ auth.routes.js # Authentication routes
â”œâ”€â”€ seeders/               # Database seeders (SQL only)
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ emailService.js    # Email integration (Nodemailer)
â”‚   â””â”€â”€ fileService.js     # File operations utilities
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ banner.js          # ASCII startup banner
â”‚   â”œâ”€â”€ logger.js          # Winston logging configuration
â”‚   â””â”€â”€ responseHandler.js # Standardized API responses
â”œâ”€â”€ view/                  # View templates (SQL template only)
â”œâ”€â”€ .env                   # Environment variables
â”œâ”€â”€ .gitignore            # Git ignore rules
â”œâ”€â”€ .sequelizerc          # Sequelize CLI config (SQL only)
â”œâ”€â”€ app.js                # Express application setup
â”œâ”€â”€ package.json          # Dependencies & npm scripts
â””â”€â”€ server.js             # Application entry point
```

### ğŸ“ Folder Descriptions

- **`config/`** - Database connections, app configurations
- **`controllers/`** - Request handlers and business logic
- **`docs/`** - API documentation and guides
- **`jobs/`** - Background jobs and cron schedulers
- **`middlewares/`** - Express middlewares (auth, upload, validation)
- **`models/`** - Database schemas and models
- **`routes/`** - API endpoint definitions
- **`services/`** - Reusable business services
- **`utils/`** - Helper functions and utilities
- **`view/`** - Template files (SQL template only)

## ğŸ“œ Environment Configuration

A comprehensive **.env** file is automatically generated with optimized defaults:

### MongoDB Template:

```ini
# Server Configuration
PORT=5000
NODE_ENV=development
APP_URL=http://localhost:5000

# Database
MONGO_URI=mongodb://localhost:27017/project-name

# Authentication
JWT_SECRET=your_jwt_secret_here_minimum_32_characters

# Email Service
EMAIL_USER=your_email@gmail.com
EMAIL_PASS=your_app_password

# MongoDB Connection Pool Settings
MONGO_MAX_POOL_SIZE=10
MONGO_MIN_POOL_SIZE=5
MONGO_MAX_IDLE_TIME=30000
MONGO_SERVER_SELECTION_TIMEOUT=5000
MONGO_SOCKET_TIMEOUT=45000
MONGO_CONNECT_TIMEOUT=10000
MONGO_HEARTBEAT_FREQUENCY=10000
MONGO_READ_PREFERENCE=primary
MONGO_WRITE_CONCERN=majority
MONGO_READ_CONCERN=majority
MONGO_WRITE_TIMEOUT=5000

# Background Jobs
ENABLE_CRON_JOBS=true
```

### SQL Template (MySQL/PostgreSQL):

```ini
# Server Configuration
PORT=5000
NODE_ENV=development
APP_URL=http://localhost:5000

# Database
DB_HOST=localhost
DB_USER=root
DB_PASS=password
DB_NAME=project-name
DB_DIALECT=mysql

# Authentication
JWT_SECRET=your_jwt_secret_here_minimum_32_characters

# Email Service
EMAIL_USER=your_email@gmail.com
EMAIL_PASS=your_app_password

# Database Connection Pool Settings
DB_POOL_MAX=5
DB_POOL_MIN=0
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000

# Background Jobs
ENABLE_CRON_JOBS=true
```

## ğŸƒ Running Your Project

After generation, navigate to your project and start developing:

```bash
cd my-awesome-api
npm run dev        # Development mode with nodemon
# or
npm start          # Production mode
```

You'll see the beautiful startup banner:

```
================================================================================
  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
  EXPRESS API KIT - Production Ready API Server
================================================================================
ğŸš€ Server running on http://localhost:5000
ğŸ“– API Documentation: http://localhost:5000/api-docs
ğŸ“Š Connection Pool: Max 10, Min 5
âš¡ Ready to handle requests!
```

## ğŸ¯ Built-in API Endpoints

All APIs are versioned for better evolution and backward compatibility.

### API Root

```http
GET /api    # API information and available versions
```

### Authentication Routes (v1)

```http
POST /api/v1/auth/register    # User registration
POST /api/v1/auth/login       # User authentication
GET  /api/v1/auth/profile     # Get user profile (protected)
```

## ğŸ”„ API Versioning

Generated projects use URL path versioning (`/api/v1/`, `/api/v2/`, etc.) for:

- âœ… **Backward Compatibility** - Old clients continue working
- âœ… **Clear Evolution** - Easy to understand which version you're using
- âœ… **Gradual Migration** - Migrate clients at their own pace
- âœ… **Deprecation Strategy** - Sunset old versions gracefully

### Adding New Versions

```bash
# Create v2 directory
mkdir routes/v2

# Copy and modify routes
cp routes/v1/auth.routes.js routes/v2/auth.routes.js
```

ğŸ’¡ **See `docs/API_VERSIONING.md` in generated projects for detailed versioning guide.**

## ğŸ—„ï¸ Database Management (SQL Templates)

SQL-based projects include Sequelize CLI for database migrations and seeders:

### **Migration Commands**

```bash
npm run migration:create create-users-table  # Create a new migration
npm run db:migrate                          # Run pending migrations
npm run db:migrate:undo                     # Undo last migration
npm run db:migrate:undo:all                 # Undo all migrations
```

### **Seeder Commands**

```bash
npm run seed:create demo-users    # Create a new seeder
npm run db:seed                   # Run all seeders
npm run db:seed:undo              # Undo all seeders
```

### **Model Generation**

```bash
npm run model:create User --attributes "name:string,email:string"
```

ğŸ’¡ **See `docs/DATABASE.md` in generated projects for detailed examples and best practices.**

## ğŸ“¦ Included Dependencies

### Core Framework

- **express** - Fast, unopinionated web framework
- **cors** - Cross-Origin Resource Sharing
- **morgan** - HTTP request logger

### Database & ORM

- **mongoose** (MongoDB) / **sequelize** (SQL)
- **mysql2** / **pg** - Database drivers

### Security & Authentication

- **bcryptjs** - Password hashing
- **jsonwebtoken** - JWT token management
- **helmet** - Security headers
- **express-rate-limit** - Rate limiting

### File Handling & Jobs

- **multer** - File upload middleware
- **node-cron** - Task scheduling

### Utilities & Performance

- **joi** - Input validation
- **compression** - Response compression
- **winston** - Advanced logging
- **nodemailer** - Email service

### Development Tools

- **nodemon** - Development auto-restart
- **eslint** - Code linting
- **prettier** - Code formatting

## ğŸ¨ Code Quality

Every generated project includes pre-configured ESLint and Prettier for consistent code quality:

### **Linting**

```bash
npm run lint          # Check for code issues
npm run lint:fix      # Auto-fix linting issues
```

### **Formatting**

```bash
npm run format        # Format all code files
npm run format:check  # Check formatting without changes
```

### **Configuration Files**

- `eslint.config.js` - ESLint flat config with Node.js best practices
- `.prettierrc` - Prettier formatting configuration
- `.prettierignore` - Files to exclude from formatting

## ğŸš€ What You Get Out of the Box

âœ… **Authentication System** - Complete JWT-based auth with role management  
âœ… **File Upload API** - Ready-to-use file upload with validation  
âœ… **Background Jobs** - Cron job system for scheduled tasks  
âœ… **Database Optimization** - Connection pooling and retry mechanisms  
âœ… **Database Migrations** - Sequelize CLI for schema management (SQL only)  
âœ… **API Versioning** - URL path versioning for backward compatibility  
âœ… **Security Features** - Rate limiting, helmet, input validation  
âœ… **Professional Logging** - Structured logging with Winston  
âœ… **Email Integration** - Nodemailer setup for notifications  
âœ… **API Documentation** - Swagger UI ready to customize  
âœ… **Code Quality Tools** - ESLint and Prettier pre-configured  
âœ… **Production Ready** - Optimized configurations and error handling

## ğŸ“Š Performance Features

- **Connection Pooling**: Optimized database connections
- **Request Compression**: Automatic gzip compression
- **Rate Limiting**: Protection against abuse
- **Caching Headers**: Efficient client-side caching
- **Error Handling**: Comprehensive error management
- **Health Monitoring**: Built-in health check endpoints

## ğŸ› ï¸ Customization

All generated code is fully customizable:

- **Modify authentication logic** in `controllers/auth.controller.js`
- **Add new cron jobs** in `jobs/` directory
- **Configure file uploads** in `middlewares/upload.middleware.js`
- **Adjust database settings** in `config/database.js`
- **Extend API routes** in `routes/` directory

## ğŸ¤ Contributing

We welcome contributions! Please feel free to submit issues and pull requests.

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ’™ Support & Credits

ğŸ‘¨â€ğŸ’» **Developed by:** [Muhammad Ahmad](https://github.com/itsahmadnyc)  
ğŸ“¢ **If you like this tool, give it a â­ on GitHub!**  
ğŸ› **Report issues:** [GitHub Issues](https://github.com/itsahmadnyc/express-api-kit/issues)  
ğŸ’¬ **Discussions:** [GitHub Discussions](https://github.com/itsahmadnyc/express-api-kit/discussions)

---

**Happy Coding! ğŸ‰**

Built with â¤ï¸ for the developer community.
